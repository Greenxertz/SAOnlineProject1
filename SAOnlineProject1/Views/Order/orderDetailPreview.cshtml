@model SAOnlineProject1.Models.SummaryViewModel

@{
    ViewBag.Title = "Order Detail Preview";
}

<div class="container mt-4">
    <h2>Order Detail Preview</h2>

    <div class="row">
        <div class="col-md-8">
            <h3>Items in your cart:</h3>
            @if (Model?.userCartList != null && Model.userCartList.Any())
            {
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Quantity</th>
                                <th>Price</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                        @foreach (var item in Model.userCartList)
                        {
                                    <tr>
                                        <td>@item.product?.Name ?? "N/A"</td>
                                        <td>@item.Quantity</td>
                                        <td>@item.product?.Price.ToString("C") ?? "N/A"</td>
                                        <td>@(item.product?.Price * item.Quantity)?.ToString("C") ?? "N/A"</td>
                                    </tr>
                        }
                        </tbody>
                    </table>
            }
            else
            {
                    <p>Your cart is empty.</p>
            }
        </div>
        <div class="col-md-4">
            <h3>Order Summary</h3>
            <div class="form-group">
                <label for="Name">Name:</label>
                <p>@Model?.orderSummery?.Name ?? "N/A"</p>
            </div>
            <div class="form-group">
                <label for="DeliveryStreetAddress">Street Address:</label>
                <p>@Model?.orderSummery?.DeliveryStreetAddress ?? "N/A"</p>
            </div>
            <div class="form-group">
                <label for="City">City:</label>
                <p>@Model?.orderSummery?.City ?? "N/A"</p>
            </div>
            <div class="form-group">
                <label for="Province">Province:</label>
                <p>@Model?.orderSummery?.Province ?? "N/A"</p>
            </div>
            <div class="form-group">
                <label for="PostalCode">Postal Code:</label>
                <p>@Model?.orderSummery?.PostalCode ?? "N/A"</p>
            </div>
            <div class="form-group">
                <label for="TotalOrderAmount">Total Amount:</label>
                <p>@Model?.userCartList?.Sum(u => u.product.Price * u.Quantity).ToString("C") ?? "N/A"</p>
            </div>

            <div class="form-group">
                <label for="PaymentOptions">Payment Options:</label>
                @if (Model?.paymentOptions != null && Model.paymentOptions.Any())
                {
                    @Html.DropDownListFor(m => m.paymentOptions, Model.paymentOptions, "Select a payment method", new { @class = "form-control" })
                }
                else
                {
                        <p>No payment options available.</p>
                }
            </div>

            <button type="submit" class="btn btn-primary">Confirm Order</button>
        </div>
    </div>
</div>